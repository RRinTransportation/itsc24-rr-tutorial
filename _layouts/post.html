---
layout: default
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | escape }}</title>
    
    <!-- Link to your custom post.css file -->
    <link rel="stylesheet" href="{{ "/assets/css/post.css" | relative_url }}">
</head>
<body>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
    <p class="post-meta">
      {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
      <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {{ page.date | date: date_format }}
      </time>
      {%- if page.modified_date -%}
        ~ 
        {%- assign mdate = page.modified_date | date_to_xmlschema -%}
        <time class="dt-modified" datetime="{{ mdate }}" itemprop="dateModified">
          {{ mdate | date: date_format }}
        </time>
      {%- endif -%}
      {%- if page.author -%}
        â€¢ {% for author in page.author %}
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">{{ author }}</span></span>
            {%- if forloop.last == false %}, {% endif -%}
        {% endfor %}
      {%- endif -%}
    </p>
  </header>

  <!-- New container for content and TOC sidebar -->
  <div class="post-container">
    <!-- Sidebar TOC -->
    <aside class="toc-sidebar active"> <!-- Initially visible -->
      <nav>
        <h3>Contents</h3>
        <ul id="toc">
          <!-- This will be populated by JavaScript -->
        </ul>
      </nav>
    </aside>

    <!-- Main post content -->
    <div class="post-content e-content" itemprop="articleBody">
      {{ content }}
    </div>
  </div>

  {%- if site.disqus.shortname -%}
    {%- include disqus_comments.html -%}
  {%- endif -%}

  <a class="u-url" href="{{ page.url | relative_url }}" hidden></a>
</article>

<!-- Toggle Button for TOC -->
<button class="toc-toggle-btn">Toggle TOC</button>

<!-- Add the JavaScript before the closing body tag -->
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Get all h2, h3, and h4 elements from the post content
    const content = document.querySelector('.post-content');
    const headings = content.querySelectorAll('h2, h3, h4'); // Add h4 here

    // Create the TOC
    const toc = document.getElementById('toc');
    headings.forEach(heading => {
        // Create a unique ID by trimming the text and replacing spaces with hyphens
        const id = heading.innerText.trim().replace(/\s+/g, '-').toLowerCase();
        heading.setAttribute('id', id); // Set the ID on the heading
        
        // Add to the TOC
        const tocItem = document.createElement('li');
        tocItem.innerHTML = `<a href="#${id}">${heading.innerText}</a>`;
        
        // Indentation based on heading level (optional styling)
        if (heading.tagName === 'H3') {
            tocItem.style.marginLeft = '20px'; // Indent H3 headings
        } else if (heading.tagName === 'H4') {
            tocItem.style.marginLeft = '40px'; // Indent H4 headings
        }
        
        toc.appendChild(tocItem);
    });

    // TOC toggle functionality
    const toggleButton = document.querySelector('.toc-toggle-btn');
    const tocSidebar = document.querySelector('.toc-sidebar');
    toggleButton.addEventListener('click', function() {
        tocSidebar.classList.toggle('collapsed');
        tocSidebar.classList.toggle('active');
    });
});
</script>
</body>
</html>
