---
layout: default
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | escape }}</title>
    
    <!-- Link to your custom post.css file -->
    <link rel="stylesheet" href="{{ "/assets/css/post.css" | relative_url }}">
    <link rel="stylesheet" href="{{ "/assets/css/code.css" | relative_url }}">

</head>
<body>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
    <p class="post-meta">
      {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
      <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {{ page.date | date: date_format }}
      </time>
      {%- if page.modified_date -%}
        ~ 
        {%- assign mdate = page.modified_date | date_to_xmlschema -%}
        <time class="dt-modified" datetime="{{ mdate }}" itemprop="dateModified">
          {{ mdate | date: date_format }}
        </time>
      {%- endif -%}
      {%- if page.author -%}
        â€¢ {% for author in page.author %}
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">{{ author }}</span></span>
            {%- if forloop.last == false %}, {% endif -%}
        {% endfor %}
      {%- endif -%}
    </p>
  </header>

  <!-- New container for content and TOC sidebar -->
  <div class="post-container">
    <!-- Sidebar TOC with a toggle button -->
    <aside class="toc-sidebar">
      <button id="toc-toggle" class="toc-toggle">Contents</button> <!-- Add button to toggle TOC -->
      <nav id="toc-container">
        <h4>Walkthrough</h4>
        <ul id="toc">
          <!-- This will be populated by JavaScript -->
        </ul>
      </nav>
    </aside>

    <!-- Main post content -->
    <div class="post-content e-content" itemprop="articleBody">
      {{ content }}
    </div>
  </div>

  {%- if site.disqus.shortname -%}
    {%- include disqus_comments.html -%}
  {%- endif -%}

  <a class="u-url" href="{{ page.url | relative_url }}" hidden></a>
</article>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // Get all h2, h3, and h4 elements from the post content
    const content = document.querySelector('.post-content');
    const headings = content.querySelectorAll('h2, h3, h4'); // Add h4 here

    // Create the TOC
    const toc = document.getElementById('toc');
    headings.forEach(heading => {
        // Create a unique ID by trimming the text and replacing spaces with hyphens
        const id = heading.innerText.trim().replace(/\s+/g, '-').toLowerCase();
        heading.setAttribute('id', id); // Set the ID on the heading
        
        // Add to the TOC
        const tocItem = document.createElement('li');
        tocItem.innerHTML = `<a href="#${id}">${heading.innerText}</a>`;
        
        // Indentation based on heading level (optional styling)
        if (heading.tagName === 'H3') {
            tocItem.style.marginLeft = '10px'; // Indent H3 headings
        } else if (heading.tagName === 'H4') {
            tocItem.style.marginLeft = '20px'; // Indent H4 headings
        }
        
        toc.appendChild(tocItem);
    });

    // Toggle TOC visibility
    const tocToggle = document.getElementById('toc-toggle');
    const tocContainer = document.getElementById('toc-container');
    tocToggle.addEventListener('click', function() {
        if (tocContainer.style.display === 'none') {
            tocContainer.style.display = 'block';
            tocToggle.innerText = 'Contents';
        } else {
            tocContainer.style.display = 'none';
            tocToggle.innerText = 'Contents';
        }
    });
});
</script>
</body>
</html>
